<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="//unpkg.com/alpinejs" defer></script>


</head>
<body>
    <div class="container" x-data="{ showCart: false }">

<h1>Perfect Pizza</h1>
<h2>Pizza Orders</h2>

<style>
    .pizza-1 {
        height: 100%;
    }
	.modal-text-dec{
		font-size: 18px;
		font-family: tahoma;
		font-weight: bold;
	}
	.modal-text-dec strong{
		color: brown;
	}
</style>

<div class="pizza-1">
    <div class="cart">
    <div x-data="{open: false}">
        <button x-on:click="open = !open" class="bg-slate-700 text-white px-4 py-2 rounded-xl">Show cart</button>
        <div x-show="open">
            
            <h3>Shopping Cart</h3>


            <p class="the-buts" style="padding: 0px;">Small <button onclick="PricePlusOne()" >+</button><button onclick="PriceMinusOne()">-</button><strong  id="price1">46</strong></p>  
            <p class="the-buts">Medium <button onclick="PricePlusTwo(78.99)" >+</button><button onclick="PriceMinusTwo(78.99)" >-</button><strong id="price2">79</strong></p> 
            <p class="the-buts">Large <button onclick="PricePlusThree()" >+</button><button onclick="PriceMinusThree()">-</button><strong id="price3">124</strong></p> 
            <p>Total Cost=</p> <p>_</p><p>_</p> <p></p>
            
            <div x-data="{open: false}">
                <button x-on:click="open = !open"
                class="bg-slate-700 text-white px-4 py-2 rounded-xl">Checkout Here</button>
                <div x-show="open">
                    <p class="bg-gray-200 p-4 my-6 rounded"></p>
        
            <div x-effect="console.log(open)"></div>
                    <input
                    type="text"
                    class="border p-2 w-full mb-2 mt-6" 
					id="buying"
					placeholder="Payment amount"
					disabled
                    />
                <!-- Trigger/Open The Modal -->
						<button id="myBtn"><b>CHECKOUT</b></button>
            </div>
                </div>
    </div>
    </div>
    </div>
    </div>
    </div>
	




<!-- Modal For Pizza Payment -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <p class="modal-text-dec">Pizza Name: <strong id="the_pizza_name"></strong></p>
	<p class="modal-text-dec">Pizza Price: <strong id="the_pizza_price"></strong></p><br/>
	
	<button id="myBtn2"><b>PAY NOW</b></button>
	<span id="pizza_notice" style="color: gray;"></span>
  </div>

</div>

<!-- Modal For Pizza Paid Successfully -->
<div id="myModal2" class="modal2">

  <!-- Modal content -->
  <div class="modal-content" style="text-align: center;">
    
    <p class="modal-text-dec" style="color: green;">Payment was successful</p><br/><br/><br/><br/>
	
	<button id="the_refresh" onclick="the_refresh()"><b>OK</b></button>
  </div>

</div>


<div class="pizzas">
    <div class="pizza">
    <img class = "fix_image" src="https://images.indulgexpress.com/uploads/user/imagelibrary/2018/11/2/original/285A5419.JPG?w=400&dpr=2.6" alt="">
    <h2>Large Pizza</h2>
    <h3>R124.00</h3>
    <span>Large margaritha pizza with 3 toppins max, 3 meat toppings max and 3 or less other toppings.</span> 
    <button onclick="amountone('R 124.00', 'Large Margaritha Pizza')">Buy</button>
</div>

<div class="pizza1">
    <img class ="fix_image2" src="https://img.onmanorama.com/content/dam/mm/en/food/features/images/2021/10/17/pizza.jpg" alt="">
    <h2>Medium Pizza</h2>
    <h3>R79.00</h3>
    <box>Medium margaritha pizza with 3 toppings max. 2 or less meat toppings and 3 or less other toppings.</box>
    <button onclick="amountone('R 79.00', 'Medium Margaritha Pizza')">Buy</button>
    </div>

<div class="cart-box">
    <div class="cart" x-show="showCart">
    </div>
</div>

<div class="pizza2">
    <img class = "fix_image3" src="https://www.monsieur-cuisine.com/fileadmin/_processed_/8/4/csm_23148_Rezeptfoto_02_d74eed40d6.jpg" alt="">
    <h2>Small Pizza</h2>
    <h3>R46.00</h3>
    <man>Small margaritha pizza with 3 toppings maximum. 1 meat topping maximum. 3 or less other toppings.</man> 
    <button onclick="amountone('R 46.00', 'Small Margaritha Pizza')">Buy</button>
</div>

</div>

<div class="footer">
    <br>Contact us at: (021) 541-1000 twitter <br>
        /fb <br>
        /insta <br>
        @perfectpizza 
    

    <div class="side-bar">
            <br>Pizza Plaza<br>Dough Road<br>Base Town 
    </div>
    </div>

<script type='text/javascript'>

var paybutton = document.getElementById("myBtn2");
var pizzanotice = document.getElementById("pizza_notice");

    function amountone(x, e){

		document.getElementById("buying").value = x;
		
		localStorage.setItem("pizza_price", x);
		localStorage.setItem("pizza_name", e);
		paybutton.style.display = "block";
		pizzanotice.style.display = "none";
		//alert(localStorage.getItem("pizza_name"));
		
    }

	
	var total1 = 46.00;
	function PricePlusOne(){
		
		 
		document.getElementById("price1").innerText = total1 += 46.00;
	
	}
	function PriceMinusOne(){
		
		 
		document.getElementById("price1").innerText = total1 -= 46.00;
	
	}
	

	var total2 = 79.00;
	function PricePlusTwo(){
		
		 
		document.getElementById("price2").innerText = total2 += 79.00;
	
	}
	function PriceMinusTwo(){
		
		 
		document.getElementById("price2").innerText = total2 -= 79.00;
	
	}
	
	
	var total3 = 124.00;
	function PricePlusThree(){
		
		 
		document.getElementById("price3").innerText = total3 += 124.00;
	
	}
	function PriceMinusThree(){
		
		 
		document.getElementById("price3").innerText = total3 -= 124.00;
	
	}
/*====================================================================================================*/
/*=====================================================================================================*/

// Get the modal
var modal = document.getElementById("myModal");


// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {

	document.getElementById("the_pizza_name").innerText = localStorage.getItem("pizza_name");
	document.getElementById("the_pizza_price").innerText = localStorage.getItem("pizza_price");	
	//alert(localStorage.getItem("pizza_name"));
	
	if(localStorage.getItem("pizza_name") == undefined || localStorage.getItem("pizza_price") == undefined){
		paybutton.style.display = "none";
		
		document.getElementById("pizza_notice").innerText = "Please select a pizza you would like to buy first.";
	}

  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
/*window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}*/

//===================================================================================================================
//===================================================================================================================

// Get the modal
var modal2 = document.getElementById("myModal2");

// Get the button that opens the modal
var btn2 = document.getElementById("myBtn2");


// When the user clicks the button, open the modal 
btn2.onclick = function() {

  modal2.style.display = "block";
}

//======================================================================================================================
//======================================================================================================================

function the_refresh(){
	
	localStorage.removeItem("pizza_price");
	localStorage.removeItem("pizza_name");
	location.reload();
}
	
</script>

</body>
</html>